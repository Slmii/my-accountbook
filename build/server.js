!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./build/",n(n.s=52)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-redux")},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,o){try{var u=t[a](o),i=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var a=t.FETCH_USERS="fetch_users",o=t.FETCH_CURRENT_USER="fetch_current_user",u=t.FETCH_ADMINS="fetch_admins";t.fetchUsers=function(){return e=r(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/users");case 2:o=e.sent,t({type:a,payload:o.data});case 4:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},t.fetchCurrentUser=function(){return e=r(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/current_user");case 2:a=e.sent,t({type:o,payload:a.data});case 4:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},t.fetchAdmins=function(){return e=r(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/admins");case 2:a=e.sent,t({type:u,payload:a.data});case 4:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},t.handleToken=function(e){return t=r(regeneratorRuntime.mark(function t(n,r,a){var u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.post("/stripe",{token:e});case 2:u=t.sent,n({type:o,payload:u.data});case 4:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r},u=n(12);t.default=function(e){var t=e.title,n=e.ogTitle,r=e.ogURL;return o.default.createElement(u.Helmet,null,o.default.createElement("title",null,t),o.default.createElement("meta",{property:"og:title",content:n}),o.default.createElement("meta",{property:"og:url",content:r}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=(r=o)&&r.__esModule?r:{default:r},i=n(1),c=n(5);t.default=function(e){var t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,u.default.Component),a(n,[{key:"render",value:function(){switch(this.props.authUser){case!1:return u.default.createElement(c.Redirect,{to:"/login"});case null:return u.default.createElement("div",null,"Loading...");default:return u.default.createElement(e,this.props)}}}]),n}();return(0,i.connect)()(t)}},function(e,t){e.exports=require("react-router-dom")},function(e,t,n){"use strict";e.exports=n(46)},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("mongoose")},function(e,t,n){"use strict";e.exports=n(31)},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-router-config")},function(e,t){e.exports=require("react-helmet")},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(13);var a=s(n(0)),o=n(1),u=n(2),i=s(n(3)),c=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"renderUsers",value:function(){return this.props.users.map(function(e){var t=e.id,n=e.name;return a.default.createElement("li",{key:t,className:"list-group-item"},n)})}},{key:"render",value:function(){return a.default.createElement("div",{className:"row justify-content-md-center"},a.default.createElement("div",{className:"col-md-12 text-center"},a.default.createElement(i.default,{title:"Mi Accounting | Users List",ogTitle:"Users List",ogURL:"http://localhost:3000/users"}),a.default.createElement("h1",null,"Here is a list of all the users!"),a.default.createElement("ul",{className:"list-group",style:{width:"50%",marginLeft:"25%"}},this.renderUsers())))}}]),t}();t.default={component:(0,o.connect)(function(e){return{users:e.users,authUser:e.authUser}},{fetchUsers:u.fetchUsers})((0,c.default)(l)),loadData:function(e){return(0,e.dispatch)((0,u.fetchUsers)())}}},function(e,t){e.exports=require("react-stripe-checkout")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Credit=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(0)),o=n(1),u=f(n(15)),i=f(n(9)),c=f(n(3)),s=f(n(4)),l=n(2);function f(e){return e&&e.__esModule?e:{default:e}}var d=t.Credit=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"row justify-content-md-center"},a.default.createElement("div",{className:"col-md-12 text-center"},a.default.createElement(c.default,{title:"Mi Accounting | Credits",ogTitle:"Credits",ogURL:"http://localhost:3000/credits"}),a.default.createElement("h1",null,"Credits & Payments"),"Your credits: ",this.props.authUser.credits,a.default.createElement(u.default,{name:"My Accountbook",description:"Buy your extra credits!",ComponentClass:"div",amount:500,currency:"EUR",alipay:!0,bitcoin:!0,token:function(t){return e.props.handleToken(t)},stripeKey:i.default.stripePublishableKey},a.default.createElement("button",{type:"button",className:"btn btn-primary"},"Pay with Creditcard"))))}}]),t}();t.default={component:(0,o.connect)(function(e){return{authUser:e.authUser}},{handleToken:l.handleToken})((0,s.default)(d))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),a=n(5),o=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}t.default={component:function(e){var t=e.staticContext;(void 0===t?{}:t).notFound=!0;return r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 text-center"},r.default.createElement(o.default,{title:"404: Page not found",ogTitle:"Page not found",ogURL:"http://localhost:3000"}),r.default.createElement("h1",null,"404: PAGE NOT FOUND"),r.default.createElement("p",null,r.default.createElement(a.Link,{to:"/",className:"navbar-brand"},"Go back to the Home Page"))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(0)),o=n(1),u=n(2),i=s(n(3)),c=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.fetchAdmins()}},{key:"renderAdmins",value:function(){return this.props.admins.map(function(e){var t=e.id,n=e.name;return a.default.createElement("li",{key:t,className:"list-group-item"},n)})}},{key:"render",value:function(){return a.default.createElement("div",{className:"row justify-content-md-center"},a.default.createElement("div",{className:"col-md-12 text-center"},a.default.createElement(i.default,{title:"Mi Accounting | Admins List",ogTitle:"Admins List",ogURL:"http://localhost:3000/admins"}),a.default.createElement("h1",null,"Here is a list of all the admin users!"),a.default.createElement("ul",{className:"list-group",style:{width:"50%",marginLeft:"25%"}},this.renderAdmins())))}}]),t}();t.default={component:(0,o.connect)(function(e){return{admins:e.admins,authUser:e.authUser}},{fetchAdmins:u.fetchAdmins})((0,c.default)(l)),loadData:function(e){return(0,e.dispatch)((0,u.fetchAdmins)())}}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(19);var a=i(n(0)),o=n(1),u=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"renderLogin",value:function(){return this.props.authUser}},{key:"render",value:function(){return a.default.createElement("div",null,this.renderLogin()?a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-md-12 text-center"},a.default.createElement("h1",null,"Logged in already!"))):a.default.createElement("div",null,a.default.createElement(u.default,{title:"Mi Accounting | Login",ogTitle:"Login Page",ogURL:"http://localhost:3000"}),a.default.createElement("div",{className:"row justify-content-center text-center"},a.default.createElement("div",{className:"col-md-6",style:{marginTop:"20px"}},a.default.createElement("a",{href:"/auth/google",role:"button",className:"btn btn-lg",style:{background:"#DD4B39",color:"#FFFFFF"}},a.default.createElement("i",{className:"fab fa-google"}),"   Google Sign In"))),a.default.createElement("div",{className:"row justify-content-center text-center"},a.default.createElement("div",{className:"col-md-6",style:{marginTop:"20px"}},a.default.createElement("a",{href:"/auth/facebook",role:"button",className:"btn btn-lg",style:{background:"#3B5998",color:"#FFFFFF"}},a.default.createElement("i",{className:"fab fa-facebook-f"}),"   Facebook Sign In")))))}}]),t}();t.default={component:(0,o.connect)(function(e){return{authUser:e.authUser}})(c)}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(21);var r=i(n(0)),a=n(1),o=i(n(3)),u=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default={component:(0,a.connect)(function(e){return{authUser:e.authUser}})((0,u.default)(function(e){var t=e.authUser;return r.default.createElement("div",null,r.default.createElement(o.default,{title:"Mi Accounting | Home Page",ogTitle:"Home Page",ogURL:"http://localhost:3000"}),r.default.createElement("div",{className:"row text-center"},r.default.createElement("div",{className:"col-md-12"},r.default.createElement("h1",null,"Welcome ",t.name),r.default.createElement("p",null,"Check this out"))),r.default.createElement("div",{className:"row text-center"},r.default.createElement("div",{className:"col-md-12"},r.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return alert("I am pressed!")}},"Press me"))))}))}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=(r=o)&&r.__esModule?r:{default:r},i=n(1),c=n(5);n(23);var s=t.Header=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),a(t,[{key:"renderHeader",value:function(){return this.props.authUser}},{key:"render",value:function(){return u.default.createElement("nav",{className:"navbar sticky-top navbar-expand-md navbar-dark bg-dark"},u.default.createElement(c.Link,{to:"/",className:"navbar-brand"},"My Accountbook"),u.default.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#collapsingNavbar","aria-controls":"collapsingNavbar","aria-expanded":"false","aria-label":"Toggle navigation"},u.default.createElement("span",{className:"navbar-toggler-icon"})),u.default.createElement("div",{className:"collapse navbar-collapse",id:"collapsingNavbar"},this.renderHeader()&&u.default.createElement("ul",{className:"navbar-nav ml-auto"},u.default.createElement("li",{className:"nav-item"},u.default.createElement(c.NavLink,{className:"nav-link",to:"/credits",activeClassName:"is-active"},"Credits ",u.default.createElement("span",{className:"badge badge-pill badge-danger"},this.props.authUser.credits))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(c.NavLink,{className:"nav-link",to:"/users",activeClassName:"is-active"},"Users")),u.default.createElement("li",{className:"nav-item"},u.default.createElement(c.NavLink,{className:"nav-link",to:"/admins",activeClassName:"is-active"},"Admins")),u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link",href:"/api/logout"},"Logout")))))}}]),t}();t.default=(0,i.connect)(function(e){return{authUser:e.authUser}})(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=n(11),o=n(2),u=i(n(24));function i(e){return e&&e.__esModule?e:{default:e}}t.default={component:function(e){var t=e.route;return r.default.createElement("div",null,r.default.createElement(u.default,null),r.default.createElement("div",{className:"container"},(0,a.renderRoutes)(t.routes)))},loadData:function(e){return(0,e.dispatch)((0,o.fetchCurrentUser)())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=f(n(25)),o=f(n(22)),u=f(n(20)),i=f(n(18)),c=f(n(17)),s=f(n(16)),l=f(n(14));function f(e){return e&&e.__esModule?e:{default:e}}var d=[r({},a.default,{routes:[r({},o.default,{path:"/",exact:!0}),r({},u.default,{path:"/login"}),r({},i.default,{path:"/admins"}),r({},l.default,{path:"/users"}),r({},s.default,{path:"/credits"}),r({},c.default)]})];t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case r.FETCH_USERS:return t.payload;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case r.FETCH_CURRENT_USER:return t.payload||!1;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case r.FETCH_ADMINS:return t.payload;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),a=i(n(29)),o=i(n(28)),u=i(n(27));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.combineReducers)({users:u.default,admins:a.default,authUser:o.default})},function(e,t,n){"use strict";e.exports={stripePublishableKey:"pk_test_kTSRJkTTOf6Gfro42G0n6UJb",baseURL:"https://my-accountbook.herokuapp.com/api"}},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(33)),a=n(10),o=c(n(32)),u=c(n(9)),i=c(n(30));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=r.default.create({baseURL:u.default.baseURL,headers:{cookie:e.get("cookie")||""}});return(0,a.createStore)(i.default,{},(0,a.applyMiddleware)(o.default.withExtraArgument(t)))}},function(e,t,n){"use strict";e.exports=function(e){e.get("/api/users",function(e,t){t.json([{id:1,name:"Selami Cetinguney"},{id:2,name:"Lina Cetinguney"},{id:3,name:"Baby Cetinguney"}])}),e.get("/api/admins",function(e,t){t.json([{id:1,name:"Admin 1"},{id:2,name:"Admin 2"},{id:3,name:"Admin 3"}])})}},function(e,t,n){"use strict";e.exports=function(e,t,n){if(!e.user)return t.status(401).send({error:"You must log in!"});n()}},function(e,t){e.exports=require("stripe")},function(e,t,n){"use strict";var r=n(6),a=n(37)(r.stripeSecretKey),o=n(36);e.exports=function(e){var t,n;e.post("/api/stripe",o,(t=regeneratorRuntime.mark(function e(t,n){var r,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.customers.create({email:t.body.token.email});case 2:return r=e.sent,e.next=5,a.customers.createSource(r.id,{source:t.body.token.id});case 5:return o=e.sent,e.next=8,a.charges.create({amount:500,currency:"eur",description:"Charge €5,00 for: "+t.body.token.email,customer:o.customer});case 8:return t.user.credits+=5,e.next=11,t.user.save();case 11:u=e.sent,n.send(u);case 13:case"end":return e.stop()}},e,void 0)}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,o){try{var u=e[a](o),i=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e,t){return n.apply(this,arguments)}))}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){e.get("/auth/google",r.authenticate("google",{scope:["profile","email"]})),e.get("/auth/google/callback",r.authenticate("google",{failureRedirect:"/login"}),function(e,t){t.redirect("/")}),e.get("/auth/facebook",r.authenticate("facebook",{authType:"rerequest",scope:["email"]})),e.get("/auth/facebook/callback",r.authenticate("facebook",{failureRedirect:"/login"}),function(e,t){t.redirect("/")}),e.get("/api/current_user",function(e,t){t.send(e.user)}),e.get("/api/logout",function(e,t){e.logout(),t.redirect("/")})}},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("cookie-session")},function(e,t){e.exports=require("body-parser")},function(e,t,n){"use strict";e.exports={googleClientID:process.env.GOOGLE_CLIENT_ID,googleClientSecret:process.env.GOOGLE_CLIENT_SECRET,facebookClientID:process.env.FACEBOOK_CLIENT_ID,facebookClientSecret:process.env.FACEBOOK_CLIENT_SECRET,stripePublishableKey:process.env.STRIPE_PUBLISHABLE_KEY,stripeSecretKey:process.env.STRIPE_SECRET_KEY,mongoURI:process.env.MONGO_URI,cookieKey1:process.env.COOKIE_KEY1,cookieKey2:process.env.COOKIE_KEY2}},function(e,t){e.exports=require("passport-facebook")},function(e,t){e.exports=require("passport-google-oauth20")},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,o){try{var u=t[a](o),i=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var a,o,u=n(8),i=n(7),c=n(48).Strategy,s=n(47).Strategy,l=n(6),f=u.model("users");i.serializeUser(function(e,t){return t(null,e.id)}),i.deserializeUser(function(e,t){f.findById(e).then(function(e){return t(null,e)})}),i.use(new c({clientID:l.googleClientID,clientSecret:l.googleClientSecret,callbackURL:"/auth/google/callback",proxy:!0},(a=r(regeneratorRuntime.mark(function e(t,n,r,a){var o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.findOne({googleId:r.id});case 2:if(!(o=e.sent)){e.next=5;break}return e.abrupt("return",a(null,o));case 5:return e.next=7,new f({googleId:r.id,email:r.emails[0].value,name:r.displayName}).save();case 7:u=e.sent,a(null,u);case 9:case"end":return e.stop()}},e,void 0)})),function(e,t,n,r){return a.apply(this,arguments)}))),i.use(new s({clientID:l.facebookClientID,clientSecret:l.facebookClientSecret,callbackURL:"/auth/facebook/callback",enableProof:!0,profileFields:["id","email","displayName","last_name","first_name","gender","link"]},(o=r(regeneratorRuntime.mark(function e(t,n,r,a){var o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.findOne({facebookId:r.id});case 2:if(!(o=e.sent)){e.next=5;break}return e.abrupt("return",a(null,o));case 5:return e.next=7,new f({facebookId:r._json.id,email:r._json.email,name:r._json.name}).save();case 7:u=e.sent,a(null,u);case 9:case"end":return e.stop()}},e,void 0)})),function(e,t,n,r){return o.apply(this,arguments)})))},function(e,t,n){"use strict";var r=n(8),a=new(0,r.Schema)({googleId:String,facebookId:String,email:String,name:String,credits:{type:Number,default:0}});r.model("users",a)},function(e,t){e.exports=require("babel-polyfill")},function(e,t,n){"use strict";n(51),n(50),n(49);var r=x(n(45)),a=x(n(44)),o=x(n(43)),u=x(n(42)),i=x(n(8)),c=x(n(7)),s=x(n(0)),l=n(41),f=n(12),d=n(1),p=n(11),m=n(5),h=x(n(40)),v=x(n(6)),y=x(n(39)),b=x(n(38)),g=x(n(35)),_=x(n(34)),E=x(n(26));function x(e){return e&&e.__esModule?e:{default:e}}i.default.connect(v.default.mongoURI);var w=(0,u.default)(),k=process.env.PORT||3e3;w.use((0,o.default)()),w.use(r.default.json()),w.use((0,a.default)({maxAge:2592e6,keys:[v.default.cookieKey1,v.default.cookieKey2]})),w.use(c.default.initialize()),w.use(c.default.session()),(0,y.default)(w),(0,b.default)(w),(0,g.default)(w),w.use(u.default.static("public")),w.get("*",function(e,t){var n=(0,_.default)(e),r=(0,p.matchRoutes)(E.default,e.path).map(function(e){var t=e.route;return t.loadData?t.loadData(n):null}).map(function(e){if(e)return new Promise(function(t,n){e.then(t).catch(t)})});Promise.all(r).then(function(){var r={},a=(0,l.renderToString)(s.default.createElement(d.Provider,{store:n},s.default.createElement(m.StaticRouter,{location:e.path,context:r},s.default.createElement("div",null,(0,p.renderRoutes)(E.default))))),o=f.Helmet.renderStatic(),u='<!DOCTYPE html>\n            \x3c!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--\x3e\n            \x3c!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]--\x3e\n            \x3c!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]--\x3e\n            \x3c!--[if gt IE 8]>\x3c!--\x3e <html> \x3c!--<![endif]--\x3e\n            <html>\n            <head>\n                '+o.title.toString()+'\n                <meta charset="UTF-8">\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                '+o.meta.toString()+'\n\n                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">\n                <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">\n                <link rel="stylesheet" type="text/css" href="styles.css" defer />\n            </head>\n\n            <body>\n                <div id=\'root-app\'>'+a+'</div>\n\n                <script src="bundle.js" defer><\/script>\n                <script>window.INITIAL_STATE = '+(0,h.default)(n.getState())+'<\/script>\n                \n                \x3c!-- jQuery first, then Popper.js, then Bootstrap JS --\x3e\n                <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"><\/script>\n                <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"><\/script>\n                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"><\/script>\n            </body>\n            </html>';if(r.url)return t.redirect(303,r.url);r.notFound&&t.status(404),t.send(u)})}),w.listen(k,function(){return console.log("Server is up! Listening to port",k)})}]);